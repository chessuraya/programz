ORG 0000H
LJMP Start
ORG 000BH
LJMP IRQ2
ORG 0030H



Start: 
CLR EA
MOV SP, #30H
SETB ET0
MOV TMOD, #1H
SETB TF0
SETB P3.7


SETB EA
Main: 
SJMP Main

IRQ2:
;E7 D7# E7 D7# E7 B6 D7 C7 A6; 
MOV R3, #07H
MOV R5, #0FFH
MOV R6, #051H
CALL PLAY
MOV R3, #07H
MOV R5, #0FFH
MOV R6, #047H
CALL PLAY
MOV R3, #07H
MOV R5, #0FFH
MOV R6, #051H
CALL PLAY
MOV R3, #07H
MOV R5, #0FFH
MOV R6, #047H
CALL PLAY
MOV R3, #07H
MOV R5, #0FFH
MOV R6, #051H
CALL PLAY
MOV R3, #05H
MOV R5, #0FFH
MOV R6, #016H
CALL PLAY
MOV R3, #06H
MOV R5, #0FFH
MOV R6, #03CH
CALL PLAY
MOV R3, #06H
MOV R5, #0FFH
MOV R6, #024H
CALL PLAY
MOV R3, #05H
MOV R5, #0FEH
MOV R6, #0FAH
CALL PLAY
call lpause
;C6 E6 A6 B6;
MOV R3, #02H
MOV R5, #0FEH
MOV R6, #047H
CALL PLAY
MOV R3, #02H
MOV R5, #0FEH
MOV R6, #0A2H
CALL PLAY
MOV R3, #03H
MOV R5, #0FEH
MOV R6, #0FAH
CALL PLAY
MOV R3, #03H
MOV R5, #0FFH
MOV R6, #016H
CALL PLAY
call lpause
;E6 G# B6 C7; 
MOV R3, #02H
MOV R5, #0FEH
MOV R6, #0A2H
CALL PLAY
MOV R3, #03H
MOV R5, #0FEH
MOV R6, #0EAH
CALL PLAY
MOV R3, #03H
MOV R5, #0FFH
MOV R6, #016H
CALL PLAY
MOV R3, #04H
MOV R5, #0FFH
MOV R6, #024H
CALL PLAY
call lpause
; E7 D7# E7 D7# E7 B6 D7 C7 A6;
MOV R3, #07H
MOV R5, #0FFH
MOV R6, #051H
CALL PLAY
MOV R3, #07H
MOV R5, #0FFH
MOV R6, #047H
CALL PLAY
MOV R3, #07H
MOV R5, #0FFH
MOV R6, #051H
CALL PLAY
MOV R3, #07H
MOV R5, #0FFH
MOV R6, #047H
CALL PLAY
MOV R3, #07H
MOV R5, #0FFH
MOV R6, #051H
CALL PLAY
MOV R3, #05H
MOV R5, #0FFH
MOV R6, #016H
CALL PLAY
MOV R3, #06H
MOV R5, #0FFH
MOV R6, #03CH
CALL PLAY
MOV R3, #06H
MOV R5, #0FFH
MOV R6, #024H
CALL PLAY
MOV R3, #05H
MOV R5, #0FEH
MOV R6, #0FAH
CALL PLAY
call lpause
;C6 E6 A6 B6; 
;E6 C7 B6 A6;
MOV R3, #02H
MOV R5, #0FEH
MOV R6, #047H
CALL PLAY
MOV R3, #02H
MOV R5, #0FEH
MOV R6, #0A2H
CALL PLAY
MOV R3, #03H
MOV R5, #0FEH
MOV R6, #0FAH
CALL PLAY
MOV R3, #03H
MOV R5, #0FFH
MOV R6, #016H
CALL PLAY
call lpause
MOV R3, #02H
MOV R5, #0FEH
MOV R6, #0A2H
CALL PLAY
MOV R3, #04H
MOV R5, #0FFH
MOV R6, #024H
CALL PLAY
MOV R3, #03H
MOV R5, #0FFH
MOV R6, #016H
CALL PLAY
MOV R3, #03H
MOV R5, #0FEH
MOV R6, #0FAH
CALL PLAY
call lpause
;B6C7D7E7;
;G6F7E7D7;
MOV R3, #03H
MOV R5, #0FFH
MOV R6, #016H
CALL PLAY
MOV R3, #04H
MOV R5, #0FFH
MOV R6, #024H
CALL PLAY
MOV R3, #04H
MOV R5, #0FFH
MOV R6, #03CH
CALL PLAY
MOV R3, #05H
MOV R5, #0FFH
MOV R6, #051H
CALL PLAY
call lpause
MOV R3, #03H
MOV R5, #0FEH
MOV R6, #0DAH
CALL PLAY
MOV R3, #05H
MOV R5, #0FFH
MOV R6, #05BH
CALL PLAY
MOV R3, #05H
MOV R5, #0FFH
MOV R6, #051H
CALL PLAY
MOV R3, #04H
MOV R5, #0FFH
MOV R6, #03CH
CALL PLAY
call LPAUSE
;F6E7D7C7;
;E6D7C7B6;
MOV R3, #02H
MOV R5, #0FEH
MOV R6, #0B6H
CALL PLAY
MOV R3, #05H
MOV R5, #0FFH
MOV R6, #051H
CALL PLAY
MOV R3, #04H
MOV R5, #0FFH
MOV R6, #03CH
CALL PLAY
MOV R3, #04H
MOV R5, #0FFH
MOV R6, #024H
CALL PLAY
call LPAUSE
MOV R3, #02H
MOV R5, #0FEH
MOV R6, #0A2H
CALL PLAY
MOV R3, #04H
MOV R5, #0FFH
MOV R6, #03CH
CALL PLAY
MOV R3, #04H
MOV R5, #0FFH
MOV R6, #024H
CALL PLAY
MOV R3, #03H
MOV R5, #0FFH
MOV R6, #016H
CALL PLAY
call LPAUSE
call LPAUSE
call LPAUSE
call LPAUSE
call LPAUSE
call LPAUSE
call LPAUSE
ljmp endq


play:
MOV A, R3
MOV R0, A
loop1: 
MOV R1, #0FFH ;
loop2: CLR TR0
MOV A, R5
MOV TH0, A
MOV A, R6
MOV TL0, A
SETB TR0
Loop:
JNB TF0, Loop
CPL P3.7
CLR TF0
DJNZ R1, loop2
DJNZ R0, loop1
CALL delayn
RET

delayn:
mov R0, #02H
delay1: mov R1, #0FFH
delay: DJNZ R1, delay
DJNZ R0, delay1
RET


pause:
mov R0, #02H
ba: mov R1, #0FFH
aa: djnz R1,aa
DJNZ R0,ba
RET

lpause:
mov R0, #05H
ca: mov R1, #0FFH
dad: djnz R1,dad
djnz R0, ca
RET
ENDQ: 
END